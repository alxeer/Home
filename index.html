<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>حساب الفرق بين تاريخين هجريين</title>
<style>
  body {
    font-family: "SF Pro Display", "Helvetica Neue", sans-serif;
    background-color: #f5f5f7;
    color: #1d1d1f;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
  }
  h1 {
    font-weight: 600;
    margin-bottom: 20px;
  }
  .container {
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    text-align: center;
    width: 340px;
  }
  input, select, button {
    width: 85%;
    margin: 8px 0;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 16px;
  }
  button {
    background-color: #007aff;
    color: white;
    border: none;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background-color: #005bbb;
  }
  .result {
    margin-top: 20px;
    line-height: 2;
    font-size: 18px;
  }
  .date-group {
    margin-bottom: 15px;
  }
  label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
  }
</style>
</head>
<body>
  <h1>حساب الفرق بين تاريخين هجريين</h1>
  <div class="container">
    <div class="date-group">
      <label>التاريخ الأول:</label>
      <input type="number" id="year1" placeholder="السنة" min="1"><br>
      <select id="month1">
        <option value="">الشهر</option>
        <script>
          for(let m=1; m<=12; m++){document.write(`<option value="${m}">${m}</option>`);}
        </script>
      </select><br>
      <select id="day1">
        <option value="">اليوم</option>
        <script>
          for(let d=1; d<=30; d++){document.write(`<option value="${d}">${d}</option>`);}
        </script>
      </select>
    </div>

    <div class="date-group">
      <label>التاريخ الثاني:</label>
      <input type="number" id="year2" placeholder="السنة" min="1"><br>
      <select id="month2">
        <option value="">الشهر</option>
        <script>
          for(let m=1; m<=12; m++){document.write(`<option value="${m}">${m}</option>`);}
        </script>
      </select><br>
      <select id="day2">
        <option value="">اليوم</option>
        <script>
          for(let d=1; d<=30; d++){document.write(`<option value="${d}">${d}</option>`);}
        </script>
      </select>
    </div>

    <button onclick="calcDiff()">احسب الفرق</button>
    <div class="result" id="result"></div>
  </div>

<script>
  function calcDiff() {
    let y1 = parseInt(document.getElementById('year1').value);
    let m1 = parseInt(document.getElementById('month1').value);
    let d1 = parseInt(document.getElementById('day1').value);
    let y2 = parseInt(document.getElementById('year2').value);
    let m2 = parseInt(document.getElementById('month2').value);
    let d2 = parseInt(document.getElementById('day2').value);

    if(!y1 || !m1 || !d1 || !y2 || !m2 || !d2){
      document.getElementById("result").innerText = "الرجاء إدخال التاريخين بالكامل.";
      return;
    }

    // نتأكد أن التاريخ الأول أكبر
    if (y2 > y1 || (y2 === y1 && m2 > m1) || (y2 === y1 && m2 === m1 && d2 > d1)) {
      [y1,y2] = [y2,y1];
      [m1,m2] = [m2,m1];
      [d1,d2] = [d2,d1];
    }

    // استعارة من الشهر والسنة عند الحاجة
    if (d1 < d2) {
      d1 += 30;
      m1 -= 1;
    }
    let diffDays = d1 - d2;

    if (m1 < m2) {
      m1 += 12;
      y1 -= 1;
    }
    let diffMonths = m1 - m2;
    let diffYears = y1 - y2;

    document.getElementById("result").innerHTML = 
      "النتيجة:<br>" +
      diffDays + " أيام<br>" +
      diffMonths + " أشهر<br>" +
      diffYears + " سنة";
  }
</script>
</body>
</html>